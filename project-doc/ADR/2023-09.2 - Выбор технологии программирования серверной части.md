**ADR: 2023-09.2 - Выбор технологии программирования серверной части**

**Дата:** 2 сентября 2024 г.

**Статус:** Принято

**Контекст:**

Для серверной части платформы необходимо выбрать технологию, которая обеспечит:

Производительность:
PER01: Время реакции платформы на действия пользователя ≤ 2 секунд для основных операций.
PER02: Обработка платежей в течение 5 секунд.

Масштабируемость:
SCA01: Поддержка 50 000 пользователей на старте.
SCA02: Легкость масштабирования до 1 000 000 пользователей через 5 лет.

Надежность и доступность:
AVA01: Гарантированная доступность системы на уровне 99.9%.

Разработка и сопровождение:
PRN03: Возможность автоматизации процессов разработки и тестирования.
PRN07: Применение CI/CD для быстрого внедрения изменений.

Выбранная технология должна поддерживать микросервисную архитектуру (PRN04) и интеграцию с внешними сервисами, включая платежные системы (F02).

**Рассмотренные варианты:**

- **Kotlin:** Современный язык на базе JVM с поддержкой корутин и высокой безопасностью типов.
- **Python:** Популярный язык для быстрой разработки, но менее производительный для высоконагруженных систем.
- **Go:** Высокая производительность и удобство работы с многопоточностью.
- **Node.js:** Серверный JavaScript, отлично подходящий для приложений реального времени.

**Решение:**

Выбран Kotlin.

**Обоснование:**

- **PER01:** Время реакции платформы на действия пользователя ≤ 2 секунд.
- **SCA01, SCA02:** Поддержка масштабируемости для 50 000 пользователей на старте и до 1 000 000 пользователей через 5 лет.
- **AVA01:** Высокая доступность системы (99.9% uptime).

- **Совместимость с Java:** Возможность использования существующих библиотек и инструментов.
- **Корутинная архитектура:** Простое и эффективное управление асинхронными операциями.
- **Безопасность типов:** Предотвращение ошибок на этапе компиляции.
- **Стабильность:** Широкое использование в индустрии и поддержка крупных компаний.

**Последствия:**

- Все серверные компоненты будут разрабатываться на Kotlin.
- Команде потребуется изучить или освежить знания в области Kotlin и JVM.
- Особое внимание нужно уделить оптимизации высоконагруженных частей системы.