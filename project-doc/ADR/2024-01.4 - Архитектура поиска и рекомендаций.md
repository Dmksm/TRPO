# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∏—Å–∫–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –°—Ç–∞—Ç—É—Å | ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ |
| –î–∞—Ç–∞ | 2024-01-04 |
| –ê–≤—Ç–æ—Ä | –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | 2024-01-05 |

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–¥ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----|------------|------------------|
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | PER01 | –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø–æ–∏—Å–∫–∞ | ‚â§ 2 —Å–µ–∫—É–Ω–¥ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | PER05 | –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ | 95% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | SCA02 | –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö | 1 000 000 –ø—Ä–æ–µ–∫—Ç–æ–≤ |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | SCA04 | –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö | –ü–µ—Ç–∞–±–∞–π—Ç—ã |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | FUN01 | –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ | ‚úì |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | FUN02 | –§–∞—Å–µ—Ç–Ω—ã–π –ø–æ–∏—Å–∫ | ‚úì |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | FUN03 | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è | ‚úì |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | FUN04 | –ì–µ–æ–ø–æ–∏—Å–∫ | ‚úì |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∏—Å–∫–∞

```mermaid
graph TD
    A[API Gateway] --> B[Search Service]
    B --> C[Elasticsearch]
    B --> D[PostgreSQL]
    E[CDC] --> F[Kafka]
    F --> G[Search Indexer]
    G --> C
    H[User Service] --> I[Recommendation Engine]
    I --> C
```

## –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

### 1. PostgreSQL Search üîç

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üëç –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- üëç –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- üëç –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- üëé –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- üëé –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î

### 2. Elasticsearch üöÄ

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üëç –ú–æ—â–Ω—ã–π –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- üëç –§–∞—Å–µ—Ç–Ω—ã–π –ø–æ–∏—Å–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- üëç –ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üëç –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- üëé –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- üëé –ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

### 3. –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ üîÑ

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üëç –°–æ—á–µ—Ç–∞–Ω–∏–µ –ª—É—á—à–∏—Ö –∫–∞—á–µ—Å—Ç–≤
- üëç –ì–∏–±–∫–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üëç –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- üëé –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –†–µ—à–µ–Ω–∏–µ

> –í—ã–±—Ä–∞–Ω–æ –≥–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PostgreSQL –∏ Elasticsearch

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

```mermaid
graph TB
    A[PostgreSQL] -->|CDC| B[Kafka]
    B --> C[Indexer Service]
    C --> D[Elasticsearch]
    E[Search API] --> D
    E --> A
    F[User Behavior] --> G[ML Pipeline]
    G --> H[Recommendation Model]
    H --> E
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

1. üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
   - CDC –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - Kafka –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–±—ã—Ç–∏–π
   - Bulk-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

2. üîç –ü–æ–∏—Å–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
   - –§–∞—Å–µ—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
   - –ì–µ–æ–ø–æ–∏—Å–∫
   - ML-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

3. ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ üëç
- –ú–æ—â–Ω—ã–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ì–∏–±–∫–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ üëé
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
