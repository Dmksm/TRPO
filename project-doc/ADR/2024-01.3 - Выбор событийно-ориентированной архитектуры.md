# –í—ã–±–æ—Ä —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –°—Ç–∞—Ç—É—Å | ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ |
| –î–∞—Ç–∞ | 2024-01-03 |
| –ê–≤—Ç–æ—Ä | –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ | 2024-01-05 |

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫—Ä–∞—É–¥—Ñ–∞–Ω–¥–∏–Ω–≥–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –Ω–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏.

### –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–¥ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----|------------|------------------|
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | SCA02 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | 1 000 000 |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | SCA03 | –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ | 10 000 —Å–æ–±—ã—Ç–∏–π/—á–∞—Å |
| –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | REL03 | –î–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π | 100% –≥–∞—Ä–∞–Ω—Ç–∏—è |
| –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å | DUR02 | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ | < 1 —á–∞—Å |
| –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å | AVA01 | Uptime | 99.9% |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | PER01 | –û—Ç–∫–ª–∏–∫ | ‚â§ 2 —Å–µ–∫—É–Ω–¥ |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | PER04 | –î–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

```mermaid
graph TD
    A[–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã] --> B[Event Bus]
    B --> C[Kafka Cluster]
    C --> D[Schema Registry]
    C --> E[Kafka Streams]
    C --> F[Kafka Connect]
    E --> G[Stream Processing]
    F --> H[External Systems]
    B --> I[Dead Letter Queue]
    B --> J[Event Store]
```

## –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (REST/gRPC)

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üëç –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- üëç –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
- üëç –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
- üëç –ü—Ä–æ—Å—Ç–∞—è –æ—Ç–ª–∞–¥–∫–∞

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- üëé –°–∏–ª—å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
- üëé –ö–∞—Å–∫–∞–¥–Ω—ã–µ —Å–±–æ–∏
- üëé –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### 2. –°–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (EDA)

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üëç –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
- üëç –û—Ç–ª–∏—á–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- üëç –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- üëç –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏
- üëé Eventual consistency
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- üëé –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–∞–º–∏

### 3. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- üëç –ì–∏–±–∫–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞
- üëç –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ –∑–∞–¥–∞—á–∏
- üëç –ë–∞–ª–∞–Ω—Å –ø–æ–¥—Ö–æ–¥–æ–≤
- üëç –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
- üëé –î–≤–æ–π–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- üëé –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- üëé –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã

## –†–µ—à–µ–Ω–∏–µ

> –í—ã–±—Ä–∞–Ω–∞ —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ –±–∞–∑–µ Apache Kafka

### –°—Ö–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π

```mermaid
sequenceDiagram
    participant P as Producer
    participant K as Kafka
    participant C as Consumer
    participant DLQ as Dead Letter Queue
    
    P->>K: Publish Event
    K->>C: Consume Event
    alt Success
        C->>C: Process Event
    else Failure
        C->>DLQ: Move to DLQ
    end
```

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü—Ä–∏–º–µ—Ä—ã | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ |
|-----------|---------|----------------|
| –î–æ–º–µ–Ω–Ω—ã–µ | ProjectCreated, FundingUpdated | –ë–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ | PaymentProcessed, EmailSent | –ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ |
| –°–∏—Å—Ç–µ–º–Ω—ã–µ | MetricsCollected, ErrorLogged | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞ |

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| Message Broker | Apache Kafka | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π |
| Schema Management | Schema Registry | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ |
| Stream Processing | Kafka Streams | –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–æ–≤ |
| Monitoring | Prometheus + Grafana | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã |
| Tracing | OpenTelemetry | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ |

## –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (2 –º–µ—Å—è—Ü–∞)
1. üèóÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Kafka
   - –ö–ª–∞—Å—Ç–µ—Ä —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

2. üìã –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º
   - Avro schemas
   - Schema Registry
   - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

3. üîÑ –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
   - Producer/Consumer
   - Dead Letter Queue
   - Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã

### –§–∞–∑–∞ 2: –ú–∏–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ (4 –º–µ—Å—è—Ü–∞)
1. üöÄ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
   - –ü–ª–∞—Ç–µ–∂–∏
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
   - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

2. üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –ú–µ—Ç—Ä–∏–∫–∏
   - –ê–ª–µ—Ä—Ç—ã
   - –î–∞—à–±–æ—Ä–¥—ã

3. üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
   - Kafka UI
   - –û—Ç–ª–∞–¥–∫–∞
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
- ‚úÖ –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

### –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–∞–º–∏
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏
- ‚ùå –ü–æ–≤—ã—à–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|------------------|
| Latency | < 100ms |
| Throughput | > 10k events/sec |
| Failed Events | < 0.01% |
| Recovery Time | < 5 min |

## –°–≤—è–∑–∞–Ω–Ω—ã–µ ADR
- [2023-09.1 - –í—ã–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ñ–æ—Ä–º—ã —Å–∏—Å—Ç–µ–º—ã](./2023-09.1%20-%20–í—ã–±–æ—Ä%20–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π%20—Ñ–æ—Ä–º—ã%20—Å–∏—Å—Ç–µ–º—ã.md)
- [2024-01.1 - –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏](./2024-01.1%20-%20–í—ã–±–æ—Ä%20—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏%20–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏%20–∏%20–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.md)
- [2024-01.2 - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π](./2024-01.2%20-%20–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞%20–æ–±—Ä–∞–±–æ—Ç–∫–∏%20–ø–ª–∞—Ç–µ–∂–µ–π.md)
